"""
<<<<<<< HEAD
Entrypoint for testing from the top-level namespace
=======
Entrypoint for testing from the top-level namespace.
>>>>>>> 08cf566694c2c63d615f5d40137fa82e6bddcc6f
"""
import os
import sys

PKG = os.path.dirname(os.path.dirname(__file__))


def test(extra_args=None):
    try:
        import pytest
    except ImportError:
<<<<<<< HEAD
        raise ImportError("Need pytest>=4.0.2 to run tests")
=======
        raise ImportError("Need pytest>=5.0.1 to run tests")
>>>>>>> 08cf566694c2c63d615f5d40137fa82e6bddcc6f
    try:
        import hypothesis  # noqa
    except ImportError:
        raise ImportError("Need hypothesis>=3.58 to run tests")
    cmd = ["--skip-slow", "--skip-network", "--skip-db"]
    if extra_args:
        if not isinstance(extra_args, list):
            extra_args = [extra_args]
        cmd = extra_args
    cmd += [PKG]
<<<<<<< HEAD
    print("running: pytest {}".format(" ".join(cmd)))
=======
    joined = " ".join(cmd)
    print(f"running: pytest {joined}")
>>>>>>> 08cf566694c2c63d615f5d40137fa82e6bddcc6f
    sys.exit(pytest.main(cmd))


__all__ = ["test"]
